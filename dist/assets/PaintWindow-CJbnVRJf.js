import{r,j as n}from"./index-t5YwD7FF.js";const v=["#000000","#FF6B6B","#4ECDC4","#FFD93D","#8B5CF6","#FF69B4","#87CEEB","#32CD32"],s={container:{height:"100%",display:"flex",flexDirection:"column",background:"#f0f0f0"},toolbar:{display:"flex",gap:"4px",padding:"8px",borderBottom:"1px solid #ccc",background:"#e0e0e0"},colorBtn:{width:"24px",height:"24px",border:"2px solid #999",cursor:"pointer",borderRadius:"2px"},activeColor:{border:"2px solid #000",boxShadow:"0 0 0 2px #fff"},brushSize:{marginLeft:"16px",display:"flex",alignItems:"center",gap:"8px",fontFamily:"var(--font-retro)",fontSize:"14px"},slider:{width:"80px"},clearBtn:{marginLeft:"auto",padding:"4px 12px",background:"#fff",border:"1px solid #999",cursor:"pointer",fontFamily:"var(--font-pixel)",fontSize:"8px",textTransform:"uppercase"},canvasWrapper:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",background:"repeating-linear-gradient(45deg, #e8e8e8, #e8e8e8 10px, #f8f8f8 10px, #f8f8f8 20px)",padding:"16px"},canvas:{background:"#fff",border:"1px solid #999",cursor:"crosshair",boxShadow:"2px 2px 8px rgba(0,0,0,0.2)"}};function m(){const o=r.useRef(null),[u,d]=r.useState(!1),[c,g]=r.useState("#000000"),[i,b]=r.useState(4),l=r.useRef({x:0,y:0}),h=r.useCallback(e=>{var a;d(!0);const t=(a=o.current)==null?void 0:a.getBoundingClientRect();t&&(l.current={x:e.clientX-t.left,y:e.clientY-t.top})},[]),C=r.useCallback(e=>{if(!u||!o.current)return;const t=o.current.getContext("2d");if(!t)return;const a=o.current.getBoundingClientRect(),x=e.clientX-a.left,f=e.clientY-a.top;t.beginPath(),t.strokeStyle=c,t.lineWidth=i,t.lineCap="round",t.moveTo(l.current.x,l.current.y),t.lineTo(x,f),t.stroke(),l.current={x,y:f}},[u,c,i]),p=r.useCallback(()=>{d(!1)},[]),y=r.useCallback(()=>{var t;const e=(t=o.current)==null?void 0:t.getContext("2d");e&&o.current&&(e.fillStyle="#fff",e.fillRect(0,0,o.current.width,o.current.height))},[]);return n.jsxs("div",{style:s.container,children:[n.jsxs("div",{style:s.toolbar,children:[v.map(e=>n.jsx("button",{style:{...s.colorBtn,background:e,...c===e?s.activeColor:{}},onClick:()=>g(e),"aria-label":`Color ${e}`},e)),n.jsxs("div",{style:s.brushSize,children:[n.jsx("span",{children:"Size:"}),n.jsx("input",{type:"range",min:"1",max:"20",value:i,onChange:e=>b(Number(e.target.value)),style:s.slider}),n.jsxs("span",{children:[i,"px"]})]}),n.jsx("button",{style:s.clearBtn,onClick:y,children:"Clear"})]}),n.jsx("div",{style:s.canvasWrapper,children:n.jsx("canvas",{ref:o,width:400,height:250,style:s.canvas,onMouseDown:h,onMouseMove:C,onMouseUp:p,onMouseLeave:p})})]})}const k=r.memo(m);export{k as default};
